//
// Created by martin on 10/04/2020.
//

#ifndef SIMPLEINDEX_BREAKPOINTS_H
#define SIMPLEINDEX_BREAKPOINTS_H

#include <array>
#include <map>
#include <vector>

class Breakpoints {
private:
    std::map<unsigned int, std::vector<double> >  forCardinality = {
            {2, {0}},
            {4, {-0.67, 0.67}},
            {8, {-1.15, -0.32, 0.32, 1.15}},
            {16, {-1.53, -0.88, -0.48, -0.15, 0.15, 0.48, 0.88, 1.53}},
            {32, {-1.86, -1.31, -1.01, -0.77, -0.58, -0.4, -0.23, -0.08, 0.8, 0.23, 0.4, 0.58, 0.77, 1.01, 1.31,
                  1.86}},
            {64, {-2.15, -1.67, -1.42, -1.23, -1.08, -0.95, -0.83, -0.72, -0.63, -0.53, -0.44, -0.36, -0.28,
                  -0.19, -0.12, -0.04, 0.04, 0.12, 0.19, 0.28, 0.36, 0.44, 0.53, 0.63, 0.72,  0.83, 0.95, 1.08, 1.23,
                  1.42, 1.67, 2.15}},
            {128, {-2.41, -1.98, -1.76, -1.60, -1.47, -1.36, -1.27, -1.19, -1.11, -1.04, -0.98, -0.92, -0.86,
                   -0.80, -0.75, -0.70, -0.65, -0.60, -0.56, -0.51, -0.47, -0.42, -0.38, -0.34, -0.30, -0.26, -0.21,
                   -0.18, -0.14, -0.1, -0.06, -0.02, 0.02, 0.06, 0.1, 0.14, 0.18, 0.21, 0.26, 0.30, 0.34, 0.38, 0.42,
                   0.47, 0.51, 0.56, 0.60, 0.65, 0.70, 0.75, 0.80, 0.86, 0.92, 1.04, 1.11, 1.19, 1.27, 1.36, 1.47, 1.60,
                   1.76, 1.98, 2.41}}
    };
public:
    // std::vector<double> computeBreakpoints();
    static std::vector<double> generateBreakpointsDynamic(double cardinality);

//    {2, {0}},
//    {4, {-0.67, 0, 0.67}},
//    {8, {-1.15, -0.67, -0.32, 0, 0.32, 0.67, 1.15}},
//    {16, {-1.53, -1.15, -0.88, -0.67, -0.48, -0.32, -0.15, 0, 0.15, 0.32, 0.48, 0.67, 0.88,
//          1.15, 1.53}},
//    {32, {-1.86, -1.53, -1.31, -1.15, -1.01, -0.88, -0.77, -0.67, -0.58, -0.48, -0.4, -0.32,
//          -0.23, -0.15, -0.08, 0, 0.8, 0.15, 0.23, 0.32, 0.4, 0.48, 0.58, 0.67, 0.77, 0.88,
//          1.01, 1.15, 1.31, 1.53, 1.86}},
//    {64, {-2.15, -1.86, -1.67, -1.53, -1.42, -1.31, -1.23, -1.15, -1.08, -1.01, -0.95, -0.88,
//          -0.83, -0.77, -0.72, -0.67, -0.63, -0.58, -0.53, -0.48, -0.44, -0.4, -0.36, -0.32,
//          -0.28, -0.23, -0.19, -0.15, -0.12, -0.08, -0.04, 0, 0.04, 0.8, 0.12, 0.15, 0.19,
//          0.23, 0.28, 0.32, 0.36, 0.4, 0.44, 0.48, 0.53, 0.58, 0.63, 0.67, 0.72, 0.77, 0.83,
//          0.88, 0.95, 1.01, 1.08, 1.15, 1.23, 1.31, 1.42, 1.53, 1.67, 1.86, 2.15}}



public:

    const std::map<unsigned int, std::vector<double>> &getForCardinality() const;
};

#endif //SIMPLEINDEX_BREAKPOINTS_H
